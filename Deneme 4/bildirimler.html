<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bildirim AyarlarÄ± - Verde</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="notifications-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="site-header">
        <div class="header-main">
            <div class="search-container">
                <a href="index.html" class="site-logo">
                    <div class="logo-icon">V</div>
                    <div class="logo-text">Verde</div>
                </a>
            </div>
            <div class="auth-buttons" style="display: none;">
                <button class="login-btn" onclick="window.location.href='login.html'"><i class="fas fa-sign-in-alt"></i>GiriÅŸ Yap</button>
                <button class="signup-btn" onclick="window.location.href='login.html'"><i class="fas fa-user-plus"></i>KayÄ±t Ol</button>
            </div>
            <div class="user-menu" style="display: none;">
                <button class="user-button">
                    <img src="https://placehold.co/32x32" alt="Profil" class="avatar">
                    <span>HesabÄ±m</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                <div class="user-dropdown">
                    <div class="user-info">
                        <img src="https://placehold.co/40x40" alt="Profil" class="user-avatar">
                        <div class="user-details">
                            <span class="user-name">KullanÄ±cÄ± AdÄ±</span>
                            <span class="user-email">kullanici@example.com</span>
                        </div>
                    </div>
                    <hr class="dropdown-divider">
                    <a href="profil.html" class="dropdown-item"><i class="fas fa-user"></i><span>Profilim</span></a>
                    <a href="ilanlarim.html" class="dropdown-item"><i class="fas fa-list"></i><span>Ä°lanlarÄ±m</span></a>
                    <a href="favorilerim.html" class="dropdown-item"><i class="fas fa-heart"></i><span>Favorilerim</span></a>
                    <a href="mesajlar.html" class="dropdown-item"><i class="fas fa-envelope"></i><span>MesajlarÄ±m</span><span class="notification-count">2</span></a>
                    <a href="ayarlar.html" class="dropdown-item"><i class="fas fa-cog"></i><span>Ayarlar</span></a>
                    <hr class="dropdown-divider">
                    <a href="#logout" class="dropdown-item logout"><i class="fas fa-sign-out-alt"></i><span>Ã‡Ä±kÄ±ÅŸ Yap</span></a>
                </div>
            </div>
        </div>
    </header>

    <main class="settings-page">
        <div class="container">
            <div class="page-header">
                <div class="breadcrumb">
                    <a href="ayarlar.html"><i class="fas fa-cog"></i> Ayarlar</a>
                    <i class="fas fa-chevron-right"></i>
                    <span>Bildirimler</span>
                </div>
                <div class="header-content">
                    <div class="header-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="header-text">
                        <h1>Bildirim AyarlarÄ±</h1>
                        <p class="header-subtitle">Bildirim tercihlerinizi Ã¶zelleÅŸtirin ve hangi durumlarda bilgilendirilmek istediÄŸinizi belirleyin</p>
                    </div>
                </div>
            </div>

            <div class="settings-container">
                <div class="settings-sidebar">
                    <nav class="settings-nav">
                        <a href="hesap-bilgileri.html" class="nav-item"><i class="fas fa-user"></i><span>Hesap Bilgileri</span></a>
                        <a href="guvenlik.html" class="nav-item"><i class="fas fa-shield-alt"></i><span>GÃ¼venlik</span></a>
                        <a href="gizlilik.html" class="nav-item"><i class="fas fa-lock"></i><span>Gizlilik</span></a>
                        <a href="bildirimler.html" class="nav-item active"><i class="fas fa-bell"></i><span>Bildirimler</span></a>
                        <a href="gorunum.html" class="nav-item"><i class="fas fa-palette"></i><span>GÃ¶rÃ¼nÃ¼m</span></a>
                        <a href="premium.html" class="nav-item"><i class="fas fa-crown"></i><span>Premium</span></a>
                        <a href="veri-yonetimi.html" class="nav-item"><i class="fas fa-download"></i><span>Veri YÃ¶netimi</span></a>
                    </nav>
                </div>

                <div class="settings-content">
                    <div class="settings-section active">
                        <!-- Ana Bildirim KontrolÃ¼ -->
                        <div class="settings-card master-control">
                            <div class="card-header">
                                <div class="card-icon">
                                    <i class="fas fa-bell-slash"></i>
                                </div>
                                <div class="card-content">
                                    <h3>Ana Bildirim KontrolÃ¼</h3>
                                    <p>TÃ¼m bildirimleri tek seferde etkinleÅŸtir veya devre dÄ±ÅŸÄ± bÄ±rak</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="masterNotifications" class="toggle-input" checked>
                                    <label for="masterNotifications" class="toggle-label"></label>
                                </div>
                            </div>
                        </div>

                        <!-- E-posta Bildirimleri -->
                        <div class="settings-card notification-category">
                            <div class="category-header">
                                <div class="category-icon email">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="category-info">
                                    <h3>E-posta Bildirimleri</h3>
                                    <p>E-posta ile alacaÄŸÄ±nÄ±z bildirimleri yÃ¶netin</p>
                                </div>
                            </div>
                            
                            <div class="notification-group">
                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Yeni Mesajlar</h4>
                                        <p>Size gÃ¶nderilen yeni mesajlar iÃ§in e-posta bildirimi</p>
                                    </div>
                                    <div class="notification-controls">
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="emailMessages" class="toggle-input" checked>
                                            <label for="emailMessages" class="toggle-label"></label>
                                        </div>
                                        <select class="frequency-select">
                                            <option value="instant">AnÄ±nda</option>
                                            <option value="hourly">Saatlik</option>
                                            <option value="daily">GÃ¼nlÃ¼k</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Ä°lan GÃ¼ncellemeleri</h4>
                                        <p>VerdiÄŸiniz ilanlarla ilgili gÃ¼ncellemeler</p>
                                    </div>
                                    <div class="notification-controls">
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="emailAdUpdates" class="toggle-input" checked>
                                            <label for="emailAdUpdates" class="toggle-label"></label>
                                        </div>
                                        <select class="frequency-select">
                                            <option value="instant">AnÄ±nda</option>
                                            <option value="daily" selected>GÃ¼nlÃ¼k</option>
                                            <option value="weekly">HaftalÄ±k</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Favori Ä°lan GÃ¼ncellemeleri</h4>
                                        <p>FavorilediÄŸiniz ilanlarÄ±n durumu deÄŸiÅŸtiÄŸinde</p>
                                    </div>
                                    <div class="notification-controls">
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="emailFavorites" class="toggle-input" checked>
                                            <label for="emailFavorites" class="toggle-label"></label>
                                        </div>
                                        <select class="frequency-select">
                                            <option value="instant" selected>AnÄ±nda</option>
                                            <option value="daily">GÃ¼nlÃ¼k</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Pazarlama E-postalarÄ±</h4>
                                        <p>Ã–zel fÄ±rsatlar ve yeni Ã¶zellik duyurularÄ±</p>
                                    </div>
                                    <div class="notification-controls">
                                        <div class="toggle-switch">
                                            <input type="checkbox" id="emailMarketing" class="toggle-input">
                                            <label for="emailMarketing" class="toggle-label"></label>
                                        </div>
                                        <select class="frequency-select">
                                            <option value="weekly">HaftalÄ±k</option>
                                            <option value="monthly" selected>AylÄ±k</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- TarayÄ±cÄ± Bildirimleri -->
                        <div class="settings-card notification-category">
                            <div class="category-header">
                                <div class="category-icon browser">
                                    <i class="fas fa-desktop"></i>
                                </div>
                                <div class="category-info">
                                    <h3>TarayÄ±cÄ± Bildirimleri</h3>
                                    <p>TarayÄ±cÄ±nÄ±zda gÃ¶rÃ¼ntÃ¼lenecek anlÄ±k bildirimler</p>
                                </div>
                            </div>
                            
                            <div class="browser-notification-status" id="browserNotificationStatus">
                                <div class="status-card">
                                    <i class="fas fa-exclamation-circle"></i>
                                    <div>
                                        <h4>TarayÄ±cÄ± Ä°zni Gerekli</h4>
                                        <p>AnlÄ±k bildirimler iÃ§in tarayÄ±cÄ±nÄ±zdan izin alÄ±nmasÄ± gerekiyor</p>
                                        <button class="btn-primary" onclick="requestNotificationPermission()">
                                            <i class="fas fa-check"></i>
                                            Ä°zin Ver
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="notification-group" id="browserNotificationSettings" style="display: none;">
                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Yeni Mesajlar</h4>
                                        <p>AnlÄ±k mesaj bildirimleri</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="browserMessages" class="toggle-input" checked>
                                        <label for="browserMessages" class="toggle-label"></label>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Ä°lan Durumu</h4>
                                        <p>Ä°lanlarÄ±nÄ±zÄ±n durumu deÄŸiÅŸtiÄŸinde</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="browserAdStatus" class="toggle-input" checked>
                                        <label for="browserAdStatus" class="toggle-label"></label>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Sistem Bildirimleri</h4>
                                        <p>Ã–nemli sistem duyurularÄ±</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="browserSystem" class="toggle-input" checked>
                                        <label for="browserSystem" class="toggle-label"></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- SMS Bildirimleri -->
                        <div class="settings-card notification-category">
                            <div class="category-header">
                                <div class="category-icon sms">
                                    <i class="fas fa-sms"></i>
                                </div>
                                <div class="category-info">
                                    <h3>SMS Bildirimleri</h3>
                                    <p>Telefon numaranÄ±za gÃ¶nderilecek mesajlar</p>
                                </div>
                            </div>
                            
                            <div class="notification-group">
                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>GÃ¼venlik UyarÄ±larÄ±</h4>
                                        <p>Hesap gÃ¼venliÄŸi ile ilgili kritik bildirimlere</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="smsSecurity" class="toggle-input" checked disabled>
                                        <label for="smsSecurity" class="toggle-label"></label>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Ã–nemli Ä°lan GÃ¼ncellemeleri</h4>
                                        <p>Ä°lanlarÄ±nÄ±zla ilgili kritik durumlar</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="smsAdCritical" class="toggle-input" checked>
                                        <label for="smsAdCritical" class="toggle-label"></label>
                                    </div>
                                </div>

                                <div class="notification-setting">
                                    <div class="setting-info">
                                        <h4>Promosyon SMS'leri</h4>
                                        <p>Ã–zel fÄ±rsatlar ve kampanyalar</p>
                                    </div>
                                    <div class="toggle-switch">
                                        <input type="checkbox" id="smsPromo" class="toggle-input">
                                        <label for="smsPromo" class="toggle-label"></label>
                                    </div>
                                </div>
                            </div>

                            <div class="sms-info">
                                <i class="fas fa-info-circle"></i>
                                <span>SMS Ã¼cretleri operatÃ¶rÃ¼nÃ¼z tarafÄ±ndan uygulanabilir. Standart SMS Ã¼cretleri geÃ§erlidir.</span>
                            </div>
                        </div>

                        <!-- Sessiz Saatler -->
                        <div class="settings-card notification-category">
                            <div class="category-header">
                                <div class="category-icon quiet">
                                    <i class="fas fa-moon"></i>
                                </div>
                                <div class="category-info">
                                    <h3>Sessiz Saatler</h3>
                                    <p>Belirli saatlerde bildirimleri otomatik olarak sustur</p>
                                </div>
                            </div>
                            
                            <div class="quiet-hours-setting">
                                <div class="setting-info">
                                    <h4>Sessiz Saatleri EtkinleÅŸtir</h4>
                                    <p>Belirli saatler arasÄ±nda bildirimleri sustur</p>
                                </div>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="quietHours" class="toggle-input">
                                    <label for="quietHours" class="toggle-label"></label>
                                </div>
                            </div>

                            <div class="quiet-hours-config" id="quietHoursConfig" style="display: none;">
                                <div class="time-range">
                                    <div class="time-input">
                                        <label>BaÅŸlangÄ±Ã§</label>
                                        <input type="time" value="22:00">
                                    </div>
                                    <div class="time-input">
                                        <label>BitiÅŸ</label>
                                        <input type="time" value="07:00">
                                    </div>
                                </div>

                                <div class="quiet-hours-exceptions">
                                    <h4>Ä°stisnalar</h4>
                                    <label class="exception-option">
                                        <input type="checkbox" checked>
                                        <span>GÃ¼venlik uyarÄ±larÄ±</span>
                                    </label>
                                    <label class="exception-option">
                                        <input type="checkbox">
                                        <span>Acil mesajlar</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="form-actions">
                            <button class="btn-primary" onclick="saveNotificationSettings()">
                                <i class="fas fa-save"></i>
                                AyarlarÄ± Kaydet
                            </button>
                            <button class="btn-secondary" onclick="testNotifications()">
                                <i class="fas fa-paper-plane"></i>
                                Test Bildirimi
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
    <script>
        // Notification helper functions
        function showNotification(message, type = 'info') {
            // Basit bir bildirim sistemi - daha sonra geliÅŸtirilecek
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'times-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            // GeÃ§ici stil
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 8px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                z-index: 1000;
                display: flex;
                align-items: center;
                gap: 0.75rem;
                font-weight: 500;
                max-width: 350px;
                animation: slideInRight 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            // 4 saniye sonra kaldÄ±r
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-in';
                setTimeout(() => notification.remove(), 300);
            }, 4000);
        }

        // Ana bildirim kontrolÃ¼
        document.getElementById('masterNotifications').addEventListener('change', function() {
            const isEnabled = this.checked;
            const allToggles = document.querySelectorAll('.toggle-input:not(#masterNotifications)');
            
            allToggles.forEach(toggle => {
                if (!toggle.disabled) {
                    toggle.checked = isEnabled;
                }
            });

            showNotification(
                isEnabled ? 'TÃ¼m bildirimler etkinleÅŸtirildi' : 'TÃ¼m bildirimler devre dÄ±ÅŸÄ± bÄ±rakÄ±ldÄ±',
                isEnabled ? 'success' : 'info'
            );
        });

        // Bildirim izni kontrolÃ¼
        function checkNotificationPermission() {
            const status = document.getElementById('browserNotificationStatus');
            const settings = document.getElementById('browserNotificationSettings');
            
            if ('Notification' in window) {
                if (Notification.permission === 'granted') {
                    status.style.display = 'none';
                    settings.style.display = 'block';
                } else if (Notification.permission === 'denied') {
                    status.innerHTML = `
                        <div class="status-card error">
                            <i class="fas fa-times-circle"></i>
                            <div>
                                <h4>Bildirimler Engellendi</h4>
                                <p>TarayÄ±cÄ± ayarlarÄ±ndan bildirimlere izin verin</p>
                                <button class="btn-secondary" onclick="window.open('https://support.google.com/chrome/answer/3220216', '_blank')">
                                    <i class="fas fa-external-link-alt"></i>
                                    NasÄ±l AÃ§Ä±lÄ±r?
                                </button>
                            </div>
                        </div>
                    `;
                }
            } else {
                status.innerHTML = `
                    <div class="status-card error">
                        <i class="fas fa-exclamation-triangle"></i>
                        <div>
                            <h4>Bildirimler Desteklenmiyor</h4>
                            <p>TarayÄ±cÄ±nÄ±z push bildirimleri desteklemiyor</p>
                        </div>
                    </div>
                `;
            }
        }

        function requestNotificationPermission() {
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    checkNotificationPermission();
                    if (permission === 'granted') {
                        showNotification('TarayÄ±cÄ± bildirimleri baÅŸarÄ±yla etkinleÅŸtirildi!', 'success');
                        // Test bildirimi gÃ¶nder
                        setTimeout(() => {
                            new Notification('Verde - Bildirimler Aktif! ðŸŽ‰', {
                                body: 'ArtÄ±k Ã¶nemli gÃ¼ncellemelerden haberdar olacaksÄ±nÄ±z.',
                                icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="%2310b981"/><text x="50" y="65" text-anchor="middle" fill="white" font-size="40" font-weight="bold">V</text></svg>',
                                tag: 'verde-welcome'
                            });
                        }, 1000);
                    } else {
                        showNotification('Bildirim izni reddedildi', 'error');
                    }
                });
            }
        }

        // Sessiz saatler toggle
        document.getElementById('quietHours').addEventListener('change', function() {
            const config = document.getElementById('quietHoursConfig');
            config.style.display = this.checked ? 'block' : 'none';
            
            if (this.checked) {
                showNotification('Sessiz saatler etkinleÅŸtirildi', 'success');
            } else {
                showNotification('Sessiz saatler devre dÄ±ÅŸÄ± bÄ±rakÄ±ldÄ±', 'info');
            }
        });

        // AyarlarÄ± kaydetme
        function saveNotificationSettings() {
            const button = event.target;
            const originalText = button.innerHTML;
            
            // Loading state
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Kaydediliyor...';
            button.disabled = true;
            
            // SimÃ¼lasyon
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                showNotification('Bildirim ayarlarÄ±nÄ±z baÅŸarÄ±yla kaydedildi!', 'success');
                
                // Sayfa analytics'i iÃ§in
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'notification_settings_saved', {
                        'event_category': 'settings',
                        'event_label': 'notification_preferences'
                    });
                }
            }, 1500);
        }

        // Test bildirimi
        function testNotifications() {
            const button = event.target;
            const originalText = button.innerHTML;
            
            button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> GÃ¶nderiliyor...';
            button.disabled = true;
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                
                if ('Notification' in window && Notification.permission === 'granted') {
                    new Notification('Verde Test Bildirimi ðŸ§ª', {
                        body: 'Bu bir test bildirimidir. Bildirim ayarlarÄ±nÄ±z dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yor!',
                        icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="%2310b981"/><text x="50" y="65" text-anchor="middle" fill="white" font-size="40" font-weight="bold">V</text></svg>',
                        tag: 'verde-test',
                        requireInteraction: false
                    });
                    showNotification('Test bildirimi gÃ¶nderildi!', 'success');
                } else {
                    showNotification('Test e-postasÄ± e-posta adresinize gÃ¶nderildi!', 'info');
                }
            }, 1000);
        }

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            checkNotificationPermission();
            
            // Animasyon iÃ§in delay
            const cards = document.querySelectorAll('.settings-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.4s ease-out';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
            
            // Toggle deÄŸiÅŸikliklerini dinle
            const toggles = document.querySelectorAll('.toggle-input');
            toggles.forEach(toggle => {
                toggle.addEventListener('change', function() {
                    if (this.id !== 'masterNotifications' && this.id !== 'quietHours') {
                        // KÃ¼Ã§Ã¼k feedback
                        const label = this.nextElementSibling;
                        label.style.transform = 'scale(1.1)';
                        setTimeout(() => {
                            label.style.transform = 'scale(1)';
                        }, 150);
                    }
                });
            });
        });

        // CSS animasyonlarÄ± iÃ§in stil ekleme
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOutRight {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(100%);
                    opacity: 0;
                }
            }
            
            .toggle-label {
                transition: transform 0.15s ease !important;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>